# 1.计算机系统简介

## 1.1 计算机系统简介

### 1.计算机软硬件的概念

#### 1.计算机系统的组成

    1. 硬件：计算机的实体。如主机，外设
    2. 软件：由具有各类特殊功能的信息组成
        ***软件***
        1.系统软件：用来管理整个计算机系统
                     *语言处理程序
                     *操作系统
                     *服务性程序
                     *数据库管理系统
                     *网络软件
        2.应用软件：按任务需要编制成的各种程序
    3.硬件进行了封装，对软件提供了接口，软件可以利用接口完成一定的

#### 2.计算机的系统层次结构

    1.抽象--隐藏系统中不重要的细节。
    2.软硬件层次结构
      微指令系统 （微程序机器）
            ||
      机器语言（实际机器） 
            ||
      操作系统（虚拟机器）
            ||
      汇编语言（虚拟机器）
            ||
      高级语言(虚拟机器)
    3.硬件 
      [微程序机器（由硬件直接执行微指令）
            ||
      实际机器（用微指令解析机器指令）]
            ||
    4.软件 
      [虚拟机器（用机器语言解释操作系统）
            ||
      虚拟机器（用汇编程序翻译成机器语言程序
            ||
      虚拟机器（用编译程序翻译成汇编程序)]

#### 3.计算机体系结构和计算机组成

      1.计算机体系结构：程序员所见到的计算机系统的属性 概念性结构与功能特性（指令系统，数据类型，寻址技术，IO机理）
      2.计算机组成：实现计算机体系结构所体现的属性（具体指令的实现）

## 1.2计算机基本组成

### 1.冯诺依曼计算机特点

#### 1.由五大部件组成

    1.运算器 存储器 控制器 输入 输出

![1.jpg](D:\团活\MarkText笔记\照片\1.jpg)

#### 2. 指令和数据以同等地位存于存储器，可按地址寻访

#### 3.指令和数据用二进制表示

#### 4.指令由操作码和地址码组成

#### 5. 存储程序

#### 6.以运算器为中心

### 2. 计算机硬件框图

```
系统复杂性管理的方法 -2（3'Y）
    -层次化 ： 将被设计的系统划分为多个模块或子模块
    -模块化 ： 有明确定义的功能和接口
    -规则性 ： 模块更容易被重用
```



![2.jpg](D:\团活\MarkText笔记\照片\2.jpg)

### 3. 计算机的工作步骤

#### 1.上机前的准备

- 建立数学模型

- 确定计算方法

- 编制解题程序
  
  * 程序 ——运算的全部步骤
  
  * 指令——每一个步骤



![3.jpg](D:\团活\MarkText笔记\照片\3.jpg)

ACC（累加器）在加法中存放被加数/和，在减法中存放被减数/差，在乘法中存放乘积高位，除法中存储被除数/余数，MQ和ACC都是运算器ALU中的部件，在乘法中存储乘数/乘积低位，除法中存商，PC（计数器）存放当前欲执行的指令的地址，并且具有计数功能，IR（指令寄存器）存放当前欲执行的指令



![4.jpg](D:\团活\MarkText笔记\照片\4.jpg)

### 2 存储器的基本组成

> 数据和指令都是存储在存储器当中的 

```
MAR：存储器地址寄存器 反映存储单元的个数
MDR: 存储器数据寄存器 反映存储字长
```



![5.jpg](D:\团活\MarkText笔记\照片\5.jpg)

### 3.运算器的结构

> ALU(Arithmetic Logic Unit，算术逻辑单元)
> 
> MQ(Multiplier-Quotient Register)：乘商寄存器
> 
> X：操作数寄存器



![6.jpg](D:\团活\MarkText笔记\照片\6.jpg)

###### 将被M内存单元中的内容放到MQ寄存器中，将ACC的内容送到X寄存器（前面两个操作不存在执行先后问题），进行乘法操作之前需要对ACC清零来保存结果内容，之后进行乘法，高位结果放到ACC，地位放到MQ中 。乘法时MQ保存乘数，除法时MQ保存余数.

![7.jpg](D:\团活\MarkText笔记\照片\7.jpg)

### 4.控制器的基本结构

> PC : 存放当前欲执行指令的地址
> 
> IR(Instruction Register)：指令寄存器(用于存放当前指令)
> 
> CU：控制单元

###### 1、完成一条指令

* 取指令 PC

* 分析指令 IR

* 执行指令 CU

###### 2、主机完成一条指令的过程 以取数指令为例

![9.jpg](D:\团活\MarkText笔记\照片\9.jpg)





###### 3、主机完成一条指令的过程 以存数指令为例

![10.jpg](D:\团活\MarkText笔记\照片\10.jpg)

## 1.3、计算机硬件的主要技术指标

* 1、机器字长： CPU一次能处理数据的位数与CPU中的寄存器位数有关（8位）

* 2、运算速度
  
  * 1、主频 
  
  * 2、核数：每个核支持的线程数
  
  * 3、吉普森法 ： 计算指令的使用频率
  
  * 4、CPI ： 执行一条指令所需时钟周期数
  
  * 5、MIPS : 每秒执行百万条指令
  
  * 6、FLOPS ： 每秒浮点运算次数

* 3、存储容量： 存放二进制信息的总位数
  
  *  主存容量：存储单元个数*存储字长 或 字节数
  
  * 辅存容量 ： 字节数

## 3.1 总线的基本概念

#### 1、什么是总线

* 总线是连接各个部件的信息传输线，是各个部件共享的传输介质

#### 2、总线上的信息的传送

```china
串行-----------

    ----------------
并行 ----------------
    ----------------
```

#### 3、总线结构的计算机举例

![11.jpg](D:\团活\MarkText笔记\照片\11.jpg)

![12.jpg](D:\团活\MarkText笔记\照片\12.jpg)

![13.jpg](D:\团活\MarkText笔记\照片\13.jpg)



#### 3.2 总线的分类

* 片内总线：芯片内部的总线

* 系统总线：计算机各部件之间的信息传输线
  
  * 数据总线：双向，与机器字长、存储字长有关
  
  * 地址总线：单向 与存储地址、I/O地址有关
  
  * 控制总线：有出 有入（存储器读写 中断请求 总线请求

* 通信总线：用于计算机系统之间或计算机系统与其他系统（如控制仪表、移动通信等）之间的通信
  
  * 传输方式：
    
    * 串行通信总线
    
    * 并行通信总线 

#### 3.3 总线特性及性能指标

* 总线物理实现（主板上留出一些接口，连接在主板上）

* 总线特性
  
  * 机械特性：尺寸、形状、管脚数、及排列顺序
  
  * 电气特性： 传输方向和有效的电平范围
  
  * 功能特性：每根传输线的功能
    
    * 地址
    
    * 数据
    
    * 控制
  
  * 时间特性：信号的时序关系

* 总线的性能指标
  
  * 总线宽度：数据线的根数（根数越多，传输的位数越多，性能越好）
  
  * 标准传输率：每秒传输的最大字节数（MBps）
  
  * 时钟同步/异步：同步、不同步
  
  * 总线复用：地址线与数据线复用（8086）
  
  * 信号线数：地址线、数据线、控制线的总和
  
  * 总线控制方式：突发、自动、仲裁、逻辑、计数
  
  * 其他指标：负载能力

#### 3.4 总线标准

![14.jpg](D:\团活\MarkText笔记\照片\14.jpg)

#### 3.5 总线结构

* 单总线结构

* 双总线结构
  
  ![15.jpg](D:\团活\MarkText笔记\照片\15.jpg)

* 三总线结构
  
  ![16.jpg](D:\团活\MarkText笔记\照片\16.jpg)
  
  * 三总线结构的又一形式
    
    ![17.jpg](D:\团活\MarkText笔记\照片\17.jpg)

* 四总线结构
  
  ![18.jpg](D:\团活\MarkText笔记\照片\18.jpg)

###### 3.5.1 总线结构举例

* 传统微型机总线结构
  
  ![21.jpg](D:\团活\MarkText笔记\照片\21.jpg)

* VL-BUS总线结构
  
  ![20.jpg](D:\团活\MarkText笔记\照片\20.jpg)

* 多层PCI总线结构
  
  ![19.jpg](D:\团活\MarkText笔记\照片\19.jpg)

#### 3.6 总线控制

###### 总线判优控制

* 基本概念
  
  * 主设备（模块）：对总线有<u><mark>控制权</mark></u>
  
  * 从设备（模块）：<mark>响应</mark>从主设备发来的总线命令
  
  * 总线判优控制
    
    * <mark>集中式</mark>
      
      * 链式查询--简单的嵌入式系统
        
        通过BR向总部控制部件提出占用请求，
        
        通过BG逐步按照优先级进行查询--向下进行传递，直到找到第一个接口，那么接口1通过BS线就获得了总线的使用权
        
        * 优先级是事先进行确定
        
        * 缺点：一个电路出现毛病，后面的都有毛病
        
        * 优点：构造简单，增添设备容易，优先级算法简单，可靠性设计比较简单
        
        

      * 计数器定时查询
    
        * 异同点：多了一条设备地址线，少了一条BG线
    
        * 总线控制部件里面有个计数器
    
          * 如果说某一个主设备占用主线或者从设备进行数据传输，
    
          * 那么将通过BR这条线向总线控制部件提出占用请求，
    
          * 总线部件在接受请求后可以响应的情况下，就会启动计数器，
    
          * 计数器的值是通过<mark>设备地址</mark>这条线向外传输，
    
          * 看接口是否提出响应，如果没提出响应则计数器加1，如果提出响应，则通过BS这条线应答。
    
        * 优点：优先级确定灵活（循环优先级）
    
       
    
    
      * 独立请求方式
    
        * 异同点：任意一个接口都增加了两条线
    
          * 优先级排序：通过总线控制部件内部的排队器进行控制，优先级确定灵活。
    
          * 接口同时通过BR线向总线控制部件发送请求，总线控制部件根据排队器确定使用权，通过BS线进行响应，进行总线占用。
    
          
    * 分布式



![23.jpg](D:\团活\MarkText笔记\照片\23.jpg)

![22.jpg](D:\团活\MarkText笔记\照片\22.jpg)

![24.jpg](D:\团活\MarkText笔记\照片\24.jpg)



###### 总线通信控制

* 目的：解决通信双方协调配合问题

* 总线传输周期
  
  * 申请分配阶段： 主模块申请，总线仲裁决定
  
  * 寻址阶段：主模块向从模块 给出地址和命令
  
  * 传数阶段：主模块和从模块 交换数据
  
  * 结束阶段：主模块 撤销有关信息

* 总线通信的四种方式
  
  * 同步通信：由统一时标控制数据传送
    
        同步时数据输入输出
    
    - 总线传输周期：由四个时钟周期组成，定宽定距的时钟
    
    - 地址：第一个时钟 传输地址
    
    - 读命令 第二个时钟 读取命令
    
    - 数据的输出输入
    
    ![25.jpg](D:\团活\MarkText笔记\照片\25.jpg)
    
    ![26.jpg](D:\团活\MarkText笔记\照片\26.jpg)

* 异步通信：采用应答方式，没有公共时钟标准
  
  * 不互锁：主设备发出请求信号，从设备发出应答信号，主设备撤销请求信号，从设备撤销请求信号
  
  * 半互锁：主设备发出请求信号，从设备接受请求信号，发出应答信号，主设备接受应答信号，撤销请求信号，没接到则持续。
  
  * 全互锁：主设备发出请求信号，从设备接受请求信号，发出应答信号，主设备接受应答信号，撤销请求信号，只有主设备撤销请求信号以后从设备才撤销。
    
    ![3f352be4d796de2852c8b103cf5e875.jpg](D:\团活\MarkText笔记\照片\3f352be4d796de2852c8b103cf5e875.jpg)

* 半同步通信：同步、异步结合
  
  * 同步相似：发送方用系统时钟前沿发信号，接收方用系统喉炎判断、识别
  
  * 异步相似：允许不同速度的模块和谐工作，增加一条等待响应信号WAIT，由从设备发出
    
    ![294f38089f0f9d46a5a12e9030bc802.jpg](D:\团活\MarkText笔记\照片\294f38089f0f9d46a5a12e9030bc802.jpg)
    
    上述三种通信的共同点 以一个总线传输周期（输入数据为例）
    
    * 主模块发地址、命令 占用总线
    
    * 从模块准备数据 <mark> 不占用总线</mark> 造成总线空闲，资源浪费
    
    * 从模块向主模块发数据 占用总线

* 分离式通信：充分挖掘系统总线每个瞬间的潜力
  
  * 一个总线的传输周期
    
    * 子周期1：主模块 申请占用总线，使用完后 即<mark>放弃总线</mark>的使用权
    
    * 子周期2：从模块 申请占用总线，将各种信息发送至总线上
  
  * 特点：
    
    * 各个模块有权申请占用总线
    
    * 采用同步方式通信，不等对方回答
    
    * 各个模块准备数据时，不占用总线
    
    * 总线被占用时，无空闲

# 4. 存储器

## 4.1 概述

### 一、存储器的分类

* 按存储介质分类
  
  * 半导体存储器 （高低电频 01代码）易失
    
    * TTL：集成度低，功耗高，速度较快
    
    * MOS集成度高，功耗低，主流使用
  
  * 磁表面存储器（ns级）
    
    * 磁头
    
    * 磁载体
  
  * 磁芯存储器
    
    * 硬磁材料
    
    * 环状元件
  
  * 光盘存储器（光）
    
    * 激光 磁光材料

* 按存取方式分类
  
  * 存取时间与物理地址无关（随机访问）
    
    * 随机存储器 在程序执行过程可读可写
    
    * 只读存储器 在程序执行过程只读
  
  * 存取时间与物理地址有关（串行访问）
    
    * 顺序存取存储器--磁带
    
    * 直接存取存储器--磁盘
  
  * 按在计算机中的作用分类
    
    * 主存储器
      
      * RAM
        
        * 静态RAM
        
        * 动态RAM
      
      * ROM
        
        * MROM
        
        * PROM
        
        * EPROM
        
        * EEPROM
    
    * 辅助存储器
      
      * 磁盘、磁带、光盘
    
    * Flash Memory
    
    * 高速缓冲存储器（Cache）

### 二、存储器的层次结构

#### 存储器三个主要特征关系

* 速度

* 容量

* 价格

#### 缓存-主存层次和主存-辅存层次

![7d86702dcad6be88ce5b37d966a4b8f.jpg](D:\团活\MarkText笔记\照片\7d86702dcad6be88ce5b37d966a4b8f.jpg)

## 4.2 主存储器--概述

### 主存的基本组成

![0cba4edbe4acbe3c9cba838bded8e30.jpg](D:\团活\MarkText笔记\照片\0cba4edbe4acbe3c9cba838bded8e30.jpg)



### 主存和CPU的联系

![4f496211d443e95486d269f68637df0.jpg](D:\团活\MarkText笔记\照片\4f496211d443e95486d269f68637df0.jpg)



### 主存中存储单元地址的分配

![322ff9f7e5ff6ebb72289afecd2ab1f.jpg](D:\团活\MarkText笔记\照片\322ff9f7e5ff6ebb72289afecd2ab1f.jpg)

### 主存的技术指标

* 存储容量：主存 存放二进制代码的总位数

* 存储速度：
  
  * 存储时间：存储器的访问时间
    
    * 读出时间
    
    * 写入时间
  
  * 存储周期：连续 两次 独立 的存储器操作所需的 最小 时间间隔
  
  * 存储器的带宽：单位时间内能写入多少数据

## 4.2 主存储器--半导体芯片简介

### 半导体芯片的基本结构

![ad293c252ae0f82d8842130fb545e30.jpg](D:\团活\MarkText笔记\照片\ad293c252ae0f82d8842130fb545e30.jpg)

### 半导体存储芯片的译码驱动方式

* 线选法

* 重合法
  
  ![6e79b384232e574ed9db4c2af47b184.jpg](D:\团活\MarkText笔记\照片\6e79b384232e574ed9db4c2af47b184.jpg)

### 随机存取存储器（RAM）

#### 1、静态RAM(SRAM)

* 保存0和1的原理是什么
  
  * 静态RAM基本电路
    
    ![d17700e492ba7e7861881280a4116ab.jpg](D:\团活\MarkText笔记\照片\d17700e492ba7e7861881280a4116ab.jpg)
    
    ![df024515537489d32f191c35f5520f8.jpg](D:\团活\MarkText笔记\照片\df024515537489d32f191c35f5520f8.jpg)

* 基本单元电路的构成是什么

* 对单元电路如何读出和写入

* 典型的芯片结构是什么

* 静态RAM芯片的如何进行读出和写入操作

#### 2、动态RAM（DRAM）

#### 3、动态RAM和静态RAM比较

# 6、计算机的运算方式

## 6.1 无符号数和有符号数

### 一、无符号数

* 寄存器的位数 反应无符号数的表示范围

### 二、有符号数

#### 1、机器数与真值

* 真值：带符号的数

* 机器数：符号数字化的数

#### 2、原码表示法

##### 定义

![acdfaa09c0cdad8f22d98ce921894e1.jpg](D:\团活\MarkText笔记\照片\acdfaa09c0cdad8f22d98ce921894e1.jpg)

![98f5e0b2f807195ad67739ebc85b183.jpg](D:\团活\MarkText笔记\照片\98f5e0b2f807195ad67739ebc85b183.jpg)

##### 特点：简单、直观

#### 3、补码表示法（真值为负数时：符号位不变，补码到原（反之也可）码取反加一）

##### 定义：负整数mod2^n+1 负小数 mod^2

![c2c1876ca062af14f2655151bfb79c6.jpg](D:\团活\MarkText笔记\照片\c2c1876ca062af14f2655151bfb79c6.jpg)

![270170f8e4d2def99f0a45160cfc0db.jpg](D:\团活\MarkText笔记\照片\270170f8e4d2def99f0a45160cfc0db.jpg)

##### 结论：一个负数加上 <mark>模</mark> 即得该负数的补数

##### 一个正数和一个负数互为补数时，它们的绝对值之和即为 <mark>模</mark> 数

##### 正数的补数即为本身

![efae008205bea198b8e2bbbd4139af4.jpg](D:\团活\MarkText笔记\照片\efae008205bea198b8e2bbbd4139af4.jpg)

#### 4、反码表示法（真值为负数时：符号位不变，补码到原（反之也可）码全部取反）

##### 定义

![dac9536165379d18475c3626c1c6b30.jpg](D:\团活\MarkText笔记\照片\dac9536165379d18475c3626c1c6b30.jpg)

![2b898e3522207d6de3305d8fdf47606.jpg](D:\团活\MarkText笔记\照片\2b898e3522207d6de3305d8fdf47606.jpg)

#### 三种机器数的小结

* 最高位为符号位，书写上用，或  .   将数值部分和符号位隔开

* 对于正数，原码=补码=反码

* 对于负数，符号位为1，其数值部分
  
  * 原码除符号位外每位取反末位+1-->补码
  
  * 原码除符号位外每位取反-->反码
    
    ![3b45b02c35ad0741c2643d98fb25ae4.jpg](D:\团活\MarkText笔记\照片\3b45b02c35ad0741c2643d98fb25ae4.jpg)
    
    ![18efa35d7d93b84e7ba3e37eca333c1.jpg](D:\团活\MarkText笔记\照片\18efa35d7d93b84e7ba3e37eca333c1.jpg)

#### 5、移码表示法

##### 定义：符号位为0表示负数，符号位为1表示正数。不支持小数

![42fe179ad4c8f7ed0fe238da01f5bfc.jpg](D:\团活\MarkText笔记\照片\42fe179ad4c8f7ed0fe238da01f5bfc.jpg)

* 移码和补码只差在符号位相反

![0b70c8fddf4a5e254a653427695d22c.jpg](D:\团活\MarkText笔记\照片\0b70c8fddf4a5e254a653427695d22c.jpg)

## 6.2 数的定点表示和浮点表示

### 一、定点表示

##### 小数点按约定方式标出

![2be1f51d25e90085601752331721f3a.jpg](D:\团活\MarkText笔记\照片\2be1f51d25e90085601752331721f3a.jpg)

### 二、浮点表示

#### 1.浮点数的表示形式

![584244ae1ce7bd03d35f1f8c1b157d7.jpg](D:\团活\MarkText笔记\照片\584244ae1ce7bd03d35f1f8c1b157d7.jpg)

![ed442ea2d7a329e6614082f6d8f257a.jpg](D:\团活\MarkText笔记\照片\ed442ea2d7a329e6614082f6d8f257a.jpg)

#### 2.浮点数的表示范围

![861f7e8b42c46b0e9e09410c5ffc6a1.jpg](D:\团活\MarkText笔记\照片\861f7e8b42c46b0e9e09410c5ffc6a1.jpg)

#### 3.浮点数的规格化形式

#### 4.浮点数的规格化

#### 三、举例

#### 四、IEEE754标准

## 6.3 定点运算

## 6.4 浮点四则运算

## 6.5 算术逻辑单元
